<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Getting Started: Serving Web Content</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

</head>
<body>

	<script th:inline="javascript">
		window.onload = function() {

			var pontos = /*[[${pontos}]]*/;
			var title =  /*[[${title}]]*/;
			var dos = [];

			function myFunction2(value, index, array) {
				var yValue;
				var label;
				yValue = parseInt(value.y);
				label = value.x;
				dos.push({
					label : label,
					y : yValue
				});
			}
			var chart = new CanvasJS.Chart("chartContainer", {
				theme: "light2", // "light1", "dark1", "dark2"
				exportEnabled: true,
				animationEnabled: true,
				title: {
					text: title
				},
				data: [{
					type: "pie",
					showInLegend: "true",
					legendText: "{label}",
					yValueFormatString: "#,###\"%\"",
					indexLabelFontSize: 16,
					indexLabel: "{label} - {y}",
					dataPoints: dos
				}]
			});
			pontos.forEach(myFunction2);
			chart.render();

		}
	</script>
	<div id="chartContainer" style="height: 370px; width: 100%;"></div>

	<script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
	<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

</body>
</html>